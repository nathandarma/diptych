{"ast":null,"code":"var _jsxFileName = \"/Users/nathandarma/Documents/App Testing/Diptych/diptych/src/components/ImageFrame.js\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageFrame = ({\n  frameId,\n  x,\n  y,\n  width,\n  height,\n  image,\n  isSelected,\n  onImageUpload,\n  onMouseDown,\n  onFrameSelect\n}) => {\n  _s();\n  const fileInputRef = useRef(null);\n  const handleFileSelect = e => {\n    const file = e.target.files[0];\n    if (file) {\n      onImageUpload(frameId, file);\n    }\n  };\n  const handleFrameClick = () => {\n    if (!image) {\n      var _fileInputRef$current;\n      (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n    } else {\n      onFrameSelect(frameId);\n    }\n  };\n  const handleImageLoad = e => {\n    // Ensure image fits within frame initially\n    const img = e.target;\n    const frameAspect = width / height;\n    const imageAspect = img.naturalWidth / img.naturalHeight;\n    let scale = 1;\n    if (imageAspect > frameAspect) {\n      // Image is wider than frame\n      scale = height / img.naturalHeight;\n    } else {\n      // Image is taller than frame\n      scale = width / img.naturalWidth;\n    }\n\n    // Center the image\n    const scaledWidth = img.naturalWidth * scale;\n    const scaledHeight = img.naturalHeight * scale;\n    // const centerX = (width - scaledWidth) / 2;\n    // const centerY = (height - scaledHeight) / 2;\n\n    // Update image position if it's not already set\n    if (image && image.x === 0 && image.y === 0 && image.scale === 1) {\n      // This would need to be handled by parent component\n      // For now, we'll just ensure the image displays correctly\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `absolute image-frame ${image ? 'has-image' : ''} ${isSelected ? 'selected' : ''}`,\n    style: {\n      left: x,\n      top: y,\n      width,\n      height\n    },\n    onClick: handleFrameClick,\n    onMouseDown: image ? onMouseDown : undefined,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      ref: fileInputRef,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleFileSelect,\n      className: \"hidden\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), image ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full h-full overflow-hidden\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: image.src,\n        alt: \"Collage frame\",\n        className: \"absolute object-cover\",\n        style: {\n          transform: `translate(${image.x || 0}px, ${image.y || 0}px) scale(${image.scale || 1})`,\n          transformOrigin: 'top left',\n          width: 'auto',\n          height: 'auto',\n          maxWidth: 'none',\n          maxHeight: 'none'\n        },\n        onLoad: handleImageLoad,\n        draggable: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload-placeholder\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        className: \"w-12 h-12 mb-2 text-gray-400\",\n        fill: \"none\",\n        stroke: \"currentColor\",\n        viewBox: \"0 0 24 24\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          strokeWidth: 2,\n          d: \"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-sm font-medium\",\n        children: \"Click to upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-xs text-gray-400 mt-1\",\n        children: \"PNG, JPG, WEBP\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this), isSelected && image && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-2 right-2\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-blue-500 text-white text-xs px-2 py-1 rounded\",\n        children: \"Selected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageFrame, \"YQqvMxdmg33cmOXmQcOjJm+FLVI=\");\n_c = ImageFrame;\nexport default ImageFrame;\nvar _c;\n$RefreshReg$(_c, \"ImageFrame\");","map":{"version":3,"names":["React","useRef","jsxDEV","_jsxDEV","ImageFrame","frameId","x","y","width","height","image","isSelected","onImageUpload","onMouseDown","onFrameSelect","_s","fileInputRef","handleFileSelect","e","file","target","files","handleFrameClick","_fileInputRef$current","current","click","handleImageLoad","img","frameAspect","imageAspect","naturalWidth","naturalHeight","scale","scaledWidth","scaledHeight","className","style","left","top","onClick","undefined","children","ref","type","accept","onChange","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","transform","transformOrigin","maxWidth","maxHeight","onLoad","draggable","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","_c","$RefreshReg$"],"sources":["/Users/nathandarma/Documents/App Testing/Diptych/diptych/src/components/ImageFrame.js"],"sourcesContent":["import React, { useRef } from 'react';\n\nconst ImageFrame = ({\n  frameId,\n  x,\n  y,\n  width,\n  height,\n  image,\n  isSelected,\n  onImageUpload,\n  onMouseDown,\n  onFrameSelect\n}) => {\n  const fileInputRef = useRef(null);\n\n  const handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      onImageUpload(frameId, file);\n    }\n  };\n\n  const handleFrameClick = () => {\n    if (!image) {\n      fileInputRef.current?.click();\n    } else {\n      onFrameSelect(frameId);\n    }\n  };\n\n  const handleImageLoad = (e) => {\n    // Ensure image fits within frame initially\n    const img = e.target;\n    const frameAspect = width / height;\n    const imageAspect = img.naturalWidth / img.naturalHeight;\n    \n    let scale = 1;\n    if (imageAspect > frameAspect) {\n      // Image is wider than frame\n      scale = height / img.naturalHeight;\n    } else {\n      // Image is taller than frame\n      scale = width / img.naturalWidth;\n    }\n    \n    // Center the image\n    const scaledWidth = img.naturalWidth * scale;\n    const scaledHeight = img.naturalHeight * scale;\n    // const centerX = (width - scaledWidth) / 2;\n    // const centerY = (height - scaledHeight) / 2;\n    \n    // Update image position if it's not already set\n    if (image && (image.x === 0 && image.y === 0 && image.scale === 1)) {\n      // This would need to be handled by parent component\n      // For now, we'll just ensure the image displays correctly\n    }\n  };\n\n  return (\n    <div\n      className={`absolute image-frame ${\n        image ? 'has-image' : ''\n      } ${isSelected ? 'selected' : ''}`}\n      style={{\n        left: x,\n        top: y,\n        width,\n        height\n      }}\n      onClick={handleFrameClick}\n      onMouseDown={image ? onMouseDown : undefined}\n    >\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleFileSelect}\n        className=\"hidden\"\n      />\n      \n      {image ? (\n        <div className=\"relative w-full h-full overflow-hidden\">\n          <img\n            src={image.src}\n            alt=\"Collage frame\"\n            className=\"absolute object-cover\"\n            style={{\n              transform: `translate(${image.x || 0}px, ${image.y || 0}px) scale(${image.scale || 1})`,\n              transformOrigin: 'top left',\n              width: 'auto',\n              height: 'auto',\n              maxWidth: 'none',\n              maxHeight: 'none'\n            }}\n            onLoad={handleImageLoad}\n            draggable={false}\n          />\n        </div>\n      ) : (\n        <div className=\"upload-placeholder\">\n          <svg\n            className=\"w-12 h-12 mb-2 text-gray-400\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n            />\n          </svg>\n          <span className=\"text-sm font-medium\">Click to upload</span>\n          <span className=\"text-xs text-gray-400 mt-1\">PNG, JPG, WEBP</span>\n        </div>\n      )}\n      \n      {isSelected && image && (\n        <div className=\"absolute top-2 right-2\">\n          <div className=\"bg-blue-500 text-white text-xs px-2 py-1 rounded\">\n            Selected\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ImageFrame;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}