{"ast":null,"code":"// src/index.ts\nimport { capitalize } from \"@heroui/shared-utils\";\nimport { useEffect, useRef } from \"react\";\nfunction useDataScrollOverflow(props = {}) {\n  const {\n    domRef,\n    isEnabled = true,\n    overflowCheck = \"vertical\",\n    visibility = \"auto\",\n    offset = 0,\n    onVisibilityChange,\n    updateDeps = []\n  } = props;\n  const visibleRef = useRef(visibility);\n  useEffect(() => {\n    const el = domRef == null ? void 0 : domRef.current;\n    if (!el || !isEnabled) return;\n    const setAttributes = (direction, hasBefore, hasAfter, prefix, suffix) => {\n      if (visibility === \"auto\") {\n        const both = `${prefix}${capitalize(suffix)}Scroll`;\n        if (hasBefore && hasAfter) {\n          el.dataset[both] = \"true\";\n          el.removeAttribute(`data-${prefix}-scroll`);\n          el.removeAttribute(`data-${suffix}-scroll`);\n        } else {\n          el.dataset[`${prefix}Scroll`] = hasBefore.toString();\n          el.dataset[`${suffix}Scroll`] = hasAfter.toString();\n          el.removeAttribute(`data-${prefix}-${suffix}-scroll`);\n        }\n      } else {\n        const next = hasBefore && hasAfter ? \"both\" : hasBefore ? prefix : hasAfter ? suffix : \"none\";\n        if (next !== visibleRef.current) {\n          onVisibilityChange == null ? void 0 : onVisibilityChange(next);\n          visibleRef.current = next;\n        }\n      }\n    };\n    const checkOverflow = () => {\n      var _a, _b;\n      const directions = [{\n        type: \"vertical\",\n        prefix: \"top\",\n        suffix: \"bottom\"\n      }, {\n        type: \"horizontal\",\n        prefix: \"left\",\n        suffix: \"right\"\n      }];\n      const listbox = el.querySelector('ul[data-slot=\"list\"]');\n      const scrollHeight = +((_a = listbox == null ? void 0 : listbox.getAttribute(\"data-virtual-scroll-height\")) != null ? _a : el.scrollHeight);\n      const scrollTop = +((_b = listbox == null ? void 0 : listbox.getAttribute(\"data-virtual-scroll-top\")) != null ? _b : el.scrollTop);\n      for (const {\n        type,\n        prefix,\n        suffix\n      } of directions) {\n        if (overflowCheck === type || overflowCheck === \"both\") {\n          const hasBefore = type === \"vertical\" ? scrollTop > offset : el.scrollLeft > offset;\n          const hasAfter = type === \"vertical\" ? scrollTop + el.clientHeight + offset < scrollHeight : el.scrollLeft + el.clientWidth + offset < el.scrollWidth;\n          setAttributes(type, hasBefore, hasAfter, prefix, suffix);\n        }\n      }\n    };\n    const clearOverflow = () => {\n      [\"top\", \"bottom\", \"top-bottom\", \"left\", \"right\", \"left-right\"].forEach(attr => {\n        el.removeAttribute(`data-${attr}-scroll`);\n      });\n    };\n    checkOverflow();\n    el.addEventListener(\"scroll\", checkOverflow, true);\n    if (visibility !== \"auto\") {\n      clearOverflow();\n      if (visibility === \"both\") {\n        el.dataset.topBottomScroll = String(overflowCheck === \"vertical\");\n        el.dataset.leftRightScroll = String(overflowCheck === \"horizontal\");\n      } else {\n        el.dataset.topBottomScroll = \"false\";\n        el.dataset.leftRightScroll = \"false\";\n        [\"top\", \"bottom\", \"left\", \"right\"].forEach(attr => {\n          el.dataset[`${attr}Scroll`] = String(visibility === attr);\n        });\n      }\n    }\n    return () => {\n      el.removeEventListener(\"scroll\", checkOverflow, true);\n      clearOverflow();\n    };\n  }, [...updateDeps, isEnabled, visibility, overflowCheck, onVisibilityChange, domRef]);\n}\nexport { useDataScrollOverflow };","map":{"version":3,"names":["capitalize","useEffect","useRef","useDataScrollOverflow","props","domRef","isEnabled","overflowCheck","visibility","offset","onVisibilityChange","updateDeps","visibleRef","el","current","setAttributes","direction","hasBefore","hasAfter","prefix","suffix","both","dataset","removeAttribute","toString","next","checkOverflow","_a","_b","directions","type","listbox","querySelector","scrollHeight","getAttribute","scrollTop","scrollLeft","clientHeight","clientWidth","scrollWidth","clearOverflow","forEach","attr","addEventListener","topBottomScroll","String","leftRightScroll","removeEventListener"],"sources":["/Users/nathandarma/Documents/App Testing/Diptych/diptych/node_modules/@heroui/use-data-scroll-overflow/dist/index.mjs"],"sourcesContent":["// src/index.ts\nimport { capitalize } from \"@heroui/shared-utils\";\nimport { useEffect, useRef } from \"react\";\nfunction useDataScrollOverflow(props = {}) {\n  const {\n    domRef,\n    isEnabled = true,\n    overflowCheck = \"vertical\",\n    visibility = \"auto\",\n    offset = 0,\n    onVisibilityChange,\n    updateDeps = []\n  } = props;\n  const visibleRef = useRef(visibility);\n  useEffect(() => {\n    const el = domRef == null ? void 0 : domRef.current;\n    if (!el || !isEnabled) return;\n    const setAttributes = (direction, hasBefore, hasAfter, prefix, suffix) => {\n      if (visibility === \"auto\") {\n        const both = `${prefix}${capitalize(suffix)}Scroll`;\n        if (hasBefore && hasAfter) {\n          el.dataset[both] = \"true\";\n          el.removeAttribute(`data-${prefix}-scroll`);\n          el.removeAttribute(`data-${suffix}-scroll`);\n        } else {\n          el.dataset[`${prefix}Scroll`] = hasBefore.toString();\n          el.dataset[`${suffix}Scroll`] = hasAfter.toString();\n          el.removeAttribute(`data-${prefix}-${suffix}-scroll`);\n        }\n      } else {\n        const next = hasBefore && hasAfter ? \"both\" : hasBefore ? prefix : hasAfter ? suffix : \"none\";\n        if (next !== visibleRef.current) {\n          onVisibilityChange == null ? void 0 : onVisibilityChange(next);\n          visibleRef.current = next;\n        }\n      }\n    };\n    const checkOverflow = () => {\n      var _a, _b;\n      const directions = [\n        { type: \"vertical\", prefix: \"top\", suffix: \"bottom\" },\n        { type: \"horizontal\", prefix: \"left\", suffix: \"right\" }\n      ];\n      const listbox = el.querySelector('ul[data-slot=\"list\"]');\n      const scrollHeight = +((_a = listbox == null ? void 0 : listbox.getAttribute(\"data-virtual-scroll-height\")) != null ? _a : el.scrollHeight);\n      const scrollTop = +((_b = listbox == null ? void 0 : listbox.getAttribute(\"data-virtual-scroll-top\")) != null ? _b : el.scrollTop);\n      for (const { type, prefix, suffix } of directions) {\n        if (overflowCheck === type || overflowCheck === \"both\") {\n          const hasBefore = type === \"vertical\" ? scrollTop > offset : el.scrollLeft > offset;\n          const hasAfter = type === \"vertical\" ? scrollTop + el.clientHeight + offset < scrollHeight : el.scrollLeft + el.clientWidth + offset < el.scrollWidth;\n          setAttributes(type, hasBefore, hasAfter, prefix, suffix);\n        }\n      }\n    };\n    const clearOverflow = () => {\n      [\"top\", \"bottom\", \"top-bottom\", \"left\", \"right\", \"left-right\"].forEach((attr) => {\n        el.removeAttribute(`data-${attr}-scroll`);\n      });\n    };\n    checkOverflow();\n    el.addEventListener(\"scroll\", checkOverflow, true);\n    if (visibility !== \"auto\") {\n      clearOverflow();\n      if (visibility === \"both\") {\n        el.dataset.topBottomScroll = String(overflowCheck === \"vertical\");\n        el.dataset.leftRightScroll = String(overflowCheck === \"horizontal\");\n      } else {\n        el.dataset.topBottomScroll = \"false\";\n        el.dataset.leftRightScroll = \"false\";\n        [\"top\", \"bottom\", \"left\", \"right\"].forEach((attr) => {\n          el.dataset[`${attr}Scroll`] = String(visibility === attr);\n        });\n      }\n    }\n    return () => {\n      el.removeEventListener(\"scroll\", checkOverflow, true);\n      clearOverflow();\n    };\n  }, [...updateDeps, isEnabled, visibility, overflowCheck, onVisibilityChange, domRef]);\n}\nexport {\n  useDataScrollOverflow\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}